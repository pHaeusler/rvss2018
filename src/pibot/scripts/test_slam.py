#!usr/bin/python
import cv2
import numpy as np

import sys
sys.path.append('../')
from slam import Slam

def main():
	odom_global 	= [[0, 0, 0], [-0.0300632963656, 0.0, 1.3448275862099877], [-0.06607260741470895, -0.0008453538851817006, 2.91379310344999], [-0.10714376028563645, -0.00293584149525012, 4.931034482759998], [-0.14218198242984106, -0.005958795717176256, 6.724137931039991]]
	odom_relative 	= [[-0.0300632963656, 0, 1.34482758621], [-0.036019232438, 0, 1.56896551724], [-0.0411243205001, 0, 2.01724137931], [-0.0351683844277, 0, 1.79310344828]]
	visual_global 	= [[0, 0, 0], [0.0, 0.0, 0.0], [0.18664165536919183, 0.0, -0.1036353915413315], [0.45068738580529732, -0.0004776008413494182, -0.099896609254045643], [0.71659621910361793, -0.00094121994138562253, 0.31771146544934936]]
	visual_relative = [[0, 0, 0], [0.18664165536919183, 0, -0.10363539154133775], [0.26404616237336254, 0, 0.0037387822872720043], [0.26590923746410905, 0, 0.41760807470338812]]

	try:
		s = Slam(odom_global, odom_relative, visual_global, visual_relative)
		estimated_global = s.estimate_global()
		print(estimated_global)
	except Exception as e:
		print("opencv test fail - fail")

if __name__ == '__main__':
    main()